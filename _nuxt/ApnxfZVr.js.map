{"version":3,"file":"ApnxfZVr.js","sources":["../../../../pages/legal/features.vue"],"sourcesContent":["<template>\n  <div>\n    <v-h1>Features</v-h1>\n    <v-table>\n      <template #head>\n        <v-tr>\n          <v-th>Name</v-th>\n          <v-th>Description</v-th>\n          <v-th>Enabled</v-th>\n          <v-th></v-th>\n        </v-tr>\n      </template>\n\n      <template #empty> No available features found </template>\n\n      <template #body>\n        <v-tr\n          v-for=\"feature of availableFeatures\"\n          :key=\"feature.identifier\"\n        >\n          <v-td>{{ feature.name }}</v-td>\n          <v-td>{{ feature.description }}</v-td>\n          <v-td>{{ getIsFeatureEnabled(feature.identifier) ? \"Yes\" : \"No\" }}</v-td>\n          <v-td>\n            <v-table-actions>\n              <v-button\n                v-if=\"!getIsFeatureEnabled(feature.identifier)\"\n                variant=\"primary\"\n                :loading=\"featureBeingEnabled === feature.identifier\"\n                @click=\"enableFeature(feature.identifier)\"\n              >\n                Enable\n              </v-button>\n            </v-table-actions>\n          </v-td>\n        </v-tr>\n      </template>\n    </v-table>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nconst user = useUserStore()\nconst availableFeatures = computed(() => user.data?.available_features || [])\n\nconst featureBeingEnabled = ref(\"\")\nasync function enableFeature(id: string) {\n  if (featureBeingEnabled.value) {\n    return\n  }\n\n  featureBeingEnabled.value = id\n  try {\n    await enableAccountFeature({ identifier: id })\n    await user.getData()\n\n    const { notifySuccess } = useNotification()\n    notifySuccess(\"Feature was enabled\")\n  } finally {\n    featureBeingEnabled.value = \"\"\n  }\n}\n\nfunction getIsFeatureEnabled(id: string) {\n  if (!user.data) {\n    return false\n  }\n\n  return user.data.enabled_features_identifiers.includes(id)\n}\n</script>\n"],"names":["user","useUserStore","availableFeatures","computed","_a","featureBeingEnabled","ref","enableFeature","id","enableAccountFeature","notifySuccess","useNotification","getIsFeatureEnabled"],"mappings":"mYA0CA,MAAMA,EAAOC,IACPC,EAAoBC,EAAS,IAAM,OAAA,QAAAC,EAAAJ,EAAK,OAAL,YAAAI,EAAW,qBAAsB,CAAA,EAAE,EAEtEC,EAAsBC,EAAI,EAAE,EAClC,eAAeC,EAAcC,EAAY,CACvC,GAAI,CAAAH,EAAoB,MAIxB,CAAAA,EAAoB,MAAQG,EACxB,GAAA,CACF,MAAMC,EAAqB,CAAE,WAAYD,CAAI,CAAA,EAC7C,MAAMR,EAAK,UAEL,KAAA,CAAE,cAAAU,GAAkBC,IAC1BD,EAAc,qBAAqB,CAAA,QACnC,CACAL,EAAoB,MAAQ,EAC9B,EACF,CAEA,SAASO,EAAoBJ,EAAY,CACnC,OAACR,EAAK,KAIHA,EAAK,KAAK,6BAA6B,SAASQ,CAAE,EAHhD,EAIX"}