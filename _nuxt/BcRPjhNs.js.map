{"version":3,"file":"BcRPjhNs.js","sources":["../../../../../../packages/core/components/v-modal.vue"],"sourcesContent":["<template>\n  <div\n    v-if=\"isVisible\"\n    class=\"fixed inset-0 isolate z-50 flex justify-center overflow-auto p-6\"\n  >\n    <div\n      class=\"fixed inset-0 -z-10 cursor-pointer bg-black/30 dark:bg-black/70\"\n      @click=\"hide\"\n    ></div>\n\n    <div\n      class=\"relative my-auto rounded-md border border-slate-200 bg-white dark:border-slate-600 dark:bg-slate-950\"\n      :class=\"[props.size]\"\n    >\n      <header\n        v-if=\"$slots.header\"\n        class=\"flex items-start gap-4 p-4 pb-2 text-xl font-medium\"\n      >\n        <slot name=\"header\" />\n\n        <button\n          v-if=\"props.closeButton\"\n          class=\"ml-auto text-xl leading-none\"\n          @click=\"hide\"\n        >\n          <Icon name=\"tabler:x\" />\n        </button>\n      </header>\n      <button\n        v-else-if=\"props.closeButton\"\n        class=\"absolute right-2 top-2 text-xl leading-none\"\n        @click=\"hide\"\n      >\n        <Icon name=\"tabler:x\" />\n      </button>\n\n      <div\n        class=\"p-4\"\n        :class=\"{\n          'pt-2': $slots.header,\n          'pt-7': !$slots.header && props.closeButton,\n        }\"\n      >\n        <slot :hide=\"hide\"></slot>\n      </div>\n\n      <footer\n        v-if=\"$slots.footer\"\n        class=\"flex border-t border-t-slate-200 p-4 dark:border-t-slate-600\"\n      >\n        <slot\n          name=\"footer\"\n          v-bind=\"{ hide }\"\n        >\n        </slot>\n      </footer>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { hideAllPoppers } from \"floating-vue\"\n\nconst props = withDefaults(\n  defineProps<{\n    closeButton?: boolean\n    size?: string\n  }>(),\n  {\n    size: \"w-[700px]\",\n    closeButton: true,\n  }\n)\n\ndefineExpose({\n  show,\n  hide,\n})\n\nconst isVisible = defineModel<boolean>({ default: false })\n\nfunction show() {\n  isVisible.value = true\n}\n\nfunction hide() {\n  isVisible.value = false\n}\n\nconst isScrollLocked = useScrollLock(document.documentElement)\nwatchEffect(() => {\n  isScrollLocked.value = isVisible.value\n})\n\nconst route = useRoute()\nwatch(() => route.fullPath, hide)\n\n// TODO move to tooltip plugin\nwatchEffect(() => {\n  if (isVisible.value) {\n    // tooltips don't hide in safari when modal was opened\n    hideAllPoppers()\n  }\n})\n</script>\n"],"names":["props","__props","__expose","show","hide","isVisible","_useModel","isScrollLocked","useScrollLock","watchEffect","route","useRoute","watch","hideAllPoppers"],"mappings":"ulBA+DA,MAAMA,EAAQC,EAWDC,EAAA,CACX,KAAAC,EACA,KAAAC,CAAA,CACD,EAEK,MAAAC,EAAYC,EAAoBL,EAAA,YAAmB,EAEzD,SAASE,GAAO,CACdE,EAAU,MAAQ,EACpB,CAEA,SAASD,GAAO,CACdC,EAAU,MAAQ,EACpB,CAEM,MAAAE,EAAiBC,EAAc,SAAS,eAAe,EAC7DC,EAAY,IAAM,CAChBF,EAAe,MAAQF,EAAU,KAAA,CAClC,EAED,MAAMK,EAAQC,IACR,OAAAC,EAAA,IAAMF,EAAM,SAAUN,CAAI,EAGhCK,EAAY,IAAM,CACZJ,EAAU,OAEGQ,GACjB,CACD"}