{"version":3,"file":"CEwOPFWF.js","sources":["../../../../pages/apps/binary-packages/job/[id].vue"],"sourcesContent":["<template>\n  <div>\n    <v-h1>IPA package validation</v-h1>\n\n    <div\n      v-if=\"!job?.is_finished\"\n      class=\"mb-5 flex items-center gap-3\"\n    >\n      <v-spinner\n        class=\"!m-[unset]\"\n        size=\"2rem\"\n      />\n      <v-info> Please stay on this page till your IPA package will be validated </v-info>\n    </div>\n\n    <div\n      v-if=\"job\"\n      class=\"flex gap-5\"\n    >\n      <v-label label=\"Status\">\n        {{ job.status_translated }}\n      </v-label>\n\n      <v-label\n        v-if=\"job?.last_status_validation_issue\"\n        label=\"Last validation issue\"\n      >\n        <p class=\"whitespace-pre-line\">\n          {{ job.last_status_validation_issue }}\n        </p>\n      </v-label>\n    </div>\n\n    <div\n      v-if=\"job?.is_finished\"\n      class=\"mt-5 flex gap-2\"\n    >\n      <v-button\n        :to=\"`/apps/binary-packages/upload/${job.app_identifier}`\"\n        variant=\"primary\"\n      >\n        Upload new\n      </v-button>\n      <v-button\n        v-if=\"job.created_object_id\"\n        :to=\"`/apps/binary-packages/manage/${job.created_object_id}`\"\n      >\n        Edit metadata\n      </v-button>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport type { OfficialIPAAnalyzeJob } from \"core/types/api\"\n\nconst route = useRoute()\nconst id = computed(() => route.params.id as string)\n\nconst job = ref<OfficialIPAAnalyzeJob>()\nloadJob()\nasync function loadJob() {\n  const [currentJob] = await getOfficialIPAAnalyzeJobs({ ids: [id.value] })\n  if (!currentJob) {\n    const { notifyError } = useNotification()\n    notifyError(\"IPA package's validation job wasn't found\", {\n      id: \"get_official_ipa_analyze_jobs\",\n      persistOnFirstRouteChange: true,\n    })\n    return navigateTo(\"/apps/binary-packages\")\n  }\n\n  job.value = currentJob\n\n  if (currentJob.is_finished) {\n    return\n  }\n\n  setTimeout(loadJob, 500)\n}\n</script>\n"],"names":["route","useRoute","id","computed","job","ref","loadJob","currentJob","getOfficialIPAAnalyzeJobs","notifyError","useNotification","navigateTo"],"mappings":"6fAwDA,MAAMA,EAAQC,IACRC,EAAKC,EAAS,IAAMH,EAAM,OAAO,EAAY,EAE7CI,EAAMC,IACJC,IACR,eAAeA,GAAU,CACjB,KAAA,CAACC,CAAU,EAAI,MAAMC,EAA0B,CAAE,IAAK,CAACN,EAAG,KAAK,CAAA,CAAG,EACxE,GAAI,CAACK,EAAY,CACT,KAAA,CAAE,YAAAE,GAAgBC,IACxB,OAAAD,EAAY,4CAA6C,CACvD,GAAI,gCACJ,0BAA2B,EAAA,CAC5B,EACME,EAAW,uBAAuB,CAC3C,CAEAP,EAAI,MAAQG,EAER,CAAAA,EAAW,aAIf,WAAWD,EAAS,GAAG,CACzB"}