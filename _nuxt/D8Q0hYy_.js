import{f as x,ai as k,L as V,B as d,r as w,E as B,o as r,c as n,a as p,n as i,b as u,j as m,t as f,K as _,d as v,w as N,m as y,X as M,I as A}from"./i5TJQzka.js";import{_ as C}from"./CYbcH_7w.js";const j={class:"relative flex flex-col items-center justify-center rounded-md border border-dashed border-gray-200 bg-gray-50 p-4 dark:border-gray-400 dark:bg-gray-600"},$=["multiple","accept"],z={key:0,class:"overflow-hidden text-ellipsis whitespace-nowrap text-center"},E={key:0,class:"absolute inset-0 flex flex-col items-center justify-center gap-2 rounded-md"},F={key:0},S=x({__name:"v-file",props:k({multiple:{type:Boolean},accept:{},loading:{type:Boolean},progress:{},showFileName:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const e=l,o=V(l,"modelValue"),c=d(()=>Array.isArray(o.value)?!!o.value.length:!!o.value),g=d(()=>{var a;return c.value?Array.isArray(o.value)?o.value.map(s=>s.name).join(", "):(a=o.value)==null?void 0:a.name:""}),t=w();return B(()=>{var a;(a=t.value)==null||a.addEventListener("change",()=>{var s;t.value&&(e.multiple?o.value=t.value.files?Array.from(t.value.files):[]:o.value=(s=t.value.files)==null?void 0:s[0],t.value.value="")})}),(a,s)=>{const h=A,b=C;return r(),n("div",j,[p("input",{ref_key:"input",ref:t,class:i(["absolute -inset-px block cursor-pointer opacity-0",{"pointer-events-none":e.loading}]),type:"file",multiple:e.multiple,accept:e.accept},null,10,$),u(h,{class:i(["mb-2 text-4xl transition-all",{"opacity-0":e.loading}]),name:"tabler:cloud-upload"},null,8,["class"]),p("div",{class:i(["max-w-full transition-all",{"opacity-0":e.loading}])},[e.showFileName&&m(c)?(r(),n("p",z,f(m(g)),1)):_(a.$slots,"default",{key:1},()=>[v(" Choose a file or drag it here ")])],2),u(M,null,{default:N(()=>[e.loading?(r(),n("div",E,[u(b,{size:"35px",class:"dark:border-blue-950"}),a.$slots.progress||e.progress!==void 0?(r(),n("span",F,[_(a.$slots,"progress",{},()=>[v(f(Math.floor(e.progress||0))+"% ",1)])])):y("",!0)])):y("",!0)]),_:3})])}}});function T(l){return l.total?Math.floor(l.loaded/l.total*100):0}export{S as _,T as c};
//# sourceMappingURL=D8Q0hYy_.js.map
