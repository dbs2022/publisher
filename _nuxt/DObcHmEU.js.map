{"version":3,"file":"DObcHmEU.js","sources":["../../../../../../node_modules/.pnpm/mitt@3.0.1/node_modules/mitt/dist/mitt.mjs","../../../../composables/useEmitter.ts"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from \"mitt\"\nimport type { Agreement } from \"core/types/api\"\n\ntype Events = {\n  agreementSigned: Agreement\n}\n\nconst emitter = mitt<Events>()\n\nexport function useEmitter() {\n  const emitterProxy = new Proxy(emitter, {\n    get(target, prop, receiver) {\n      const item = Reflect.get(target, prop, receiver)\n\n      if (prop !== \"on\") {\n        return item\n      }\n\n      const onFnProxy = new Proxy(item, {\n        apply(target, thisArg, argumentsList: Parameters<typeof emitter.on>) {\n          onUnmounted(() => {\n            emitter.off(...argumentsList)\n          })\n\n          return Reflect.apply(target, thisArg, argumentsList)\n        },\n      })\n\n      return onFnProxy\n    },\n  })\n\n  return emitterProxy\n}\n"],"names":["mitt","n","t","i","emitter","useEmitter","target","prop","receiver","item","thisArg","argumentsList","onUnmounted"],"mappings":"mCAAe,SAAAA,EAASC,EAAE,CAAC,MAAM,CAAC,IAAIA,EAAEA,GAAG,IAAI,IAAI,GAAG,SAASC,EAAE,EAAE,CAAC,IAAIC,EAAEF,EAAE,IAAIC,CAAC,EAAEC,EAAEA,EAAE,KAAK,CAAC,EAAEF,EAAE,IAAIC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,SAASA,EAAE,EAAE,CAAC,IAAIC,EAAEF,EAAE,IAAIC,CAAC,EAAEC,IAAI,EAAEA,EAAE,OAAOA,EAAE,QAAQ,CAAC,IAAI,EAAE,CAAC,EAAEF,EAAE,IAAIC,EAAE,EAAE,EAAE,EAAE,KAAK,SAASA,EAAE,EAAE,CAAC,IAAIC,EAAEF,EAAE,IAAIC,CAAC,EAAEC,GAAGA,EAAE,QAAQ,IAAI,SAASF,EAAE,CAACA,EAAE,CAAC,CAAC,CAAC,GAAGE,EAAEF,EAAE,IAAI,GAAG,IAAIE,EAAE,MAAO,EAAC,IAAI,SAASF,EAAE,CAACA,EAAEC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CCOzT,MAAME,EAAUJ,EAAa,EAEtB,SAASK,GAAa,CAuBpB,OAtBc,IAAI,MAAMD,EAAS,CACtC,IAAIE,EAAQC,EAAMC,EAAU,CAC1B,MAAMC,EAAO,QAAQ,IAAIH,EAAQC,EAAMC,CAAQ,EAE/C,OAAID,IAAS,KACJE,EAGS,IAAI,MAAMA,EAAM,CAChC,MAAMH,EAAQI,EAASC,EAA8C,CACnE,OAAAC,EAAY,IAAM,CACRR,EAAA,IAAI,GAAGO,CAAa,CAAA,CAC7B,EAEM,QAAQ,MAAML,EAAQI,EAASC,CAAa,CACrD,CAAA,CACD,CAGH,CAAA,CACD,CAGH","x_google_ignoreList":[0]}